mmu는실제메모리오가상메모리사이에서주소변환역할을한다.

Shadowing

하드디스크에프로그램코드가저장되어있다. 이코드를 한방에메모리에로드하고사용하는것이Shadowing이다.

Demand paging

코드를page 단위로나눈후, CPU가요구할경우해당프로그램을page 단위로메모리에로드한다. 필요할때마다그때그때올리는 것이다.

Shadowing은하드디스크에있는프로그램을Memory에로드하여수행할때시작위치만같다면같은주소를사용한다.

Demand paging은시작번지가 상황에따라다르다.

그렇기때문에exe file의가상메모리주소를물리메모리주소로변환시켜줄필요가있는데, 이것을주소변환이라고하며, MMU가이역할을수행한다.

PC 는다음에수행할명령어의주소를가르켜야하는데, 이때가질값은가상메모리주소일까? 아니면물리메모리주소일까? 답은가상메모리주소이다. 프로그램내부\(exe 파일에서의address\)의주소를가르키고있다.

* cpu가보호모드로진입하면CPU가보는모든주소는가상주소이다.

예를 들어서 CPU가 메모리를 엑세스 하려고 한다면 해당 주소는 가상주소입니다.

이 가상주소를 MMU에 넘겨서 주소변환을 하고 나온 물리 주소를 메모리 컨트롤러가

받아서 작업을 수행합니다. 따라서 메모리 컨트롤러가 메모리에 보내는 신호는

물리 주소입니다.

가상주소&lt;-&gt;물리주소 변환 테이블은 OS가 물리메모리의 일정 공간을 할당 한 후에

여기에 집어 넣어놓습니다. 이 공간을 엑세스 할 경우에는 엑세스 주소는 물리주소로

간주하고 주소변환을 하지 않습니다. 물론 이 공간을 변환하지 말아야한다는 것은

OS가 부팅 중에 MMU 초기화를 할 때 지정합니다.
